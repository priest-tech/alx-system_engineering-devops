#!/bin/bash

# Update package list
apt-get update -y

# Install nginx
apt-get install -y nginx

# Stop nginx service
service nginx stop

# Start nginx service on port 80
nginx -c /etc/nginx/nginx.conf

# Create a new default server block
echo "server { listen 80; root /var/www/html; index index.html; server_name _; location / { try_files \$uri \$uri/ =404; } }" > /etc/nginx/sites-available/default

# Restart nginx service
nginx -s reload

# Create index.html file
echo "Hello World!" > /var/www/html/index.html

# Test Nginx configuration
curl localhost

